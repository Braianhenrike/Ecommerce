{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/braia/Desktop/dashbordTest/black-dashboard-genezio-main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/braia/Desktop/dashbordTest/black-dashboard-genezio-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/braia/Desktop/dashbordTest/black-dashboard-genezio-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\braia\\\\Desktop\\\\dashbordTest\\\\black-dashboard-genezio-main\\\\frontend\\\\src\\\\backedComponents\\\\BarChart\\\\BarChart.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { BarChartView } from \"./BarChartView\";\nimport { chartExample3 } from \"variables/charts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function BarChart(props) {\n  _s();\n  var _React$useState = React.useState(undefined),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    chartData = _React$useState2[0],\n    setChartData = _React$useState2[1];\n  var _React$useState3 = React.useState(undefined),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    numberOfItems = _React$useState4[0],\n    setNumberOfItems = _React$useState4[1];\n  var _React$useState5 = React.useState(null),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    chartRef = _React$useState6[0],\n    setChartRef = _React$useState6[1];\n  React.useEffect(function () {\n    function getChartData() {\n      return _getChartData.apply(this, arguments);\n    }\n    function _getChartData() {\n      _getChartData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var canvas, data, ctx, gradientStroke, labels, chartData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              canvas = chartRef;\n              _context.next = 3;\n              return props.class.getChartData(localStorage.getItem(\"apiToken\"));\n            case 3:\n              data = _context.sent;\n              if (!data.success) {\n                console.log(\"error at get chart data\");\n                setChartData(\"Problem\");\n              } else {\n                ctx = canvas.ctx;\n                gradientStroke = ctx.createLinearGradient(0, 230, 0, 50);\n                gradientStroke.addColorStop(1, \"rgba(72,72,176,0.1)\");\n                gradientStroke.addColorStop(0.4, \"rgba(72,72,176,0.0)\");\n                gradientStroke.addColorStop(0, \"rgba(119,52,169,0)\"); //purple colors\n                labels = data.labels;\n                chartData = data.data;\n                setNumberOfItems(data.numberOfItems);\n                setChartData({\n                  labels: labels,\n                  datasets: [{\n                    label: props.className,\n                    fill: true,\n                    backgroundColor: gradientStroke,\n                    hoverBackgroundColor: gradientStroke,\n                    borderColor: \"#d048b6\",\n                    borderWidth: 2,\n                    borderDash: [],\n                    borderDashOffset: 0.0,\n                    data: chartData\n                  }]\n                });\n              }\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return _getChartData.apply(this, arguments);\n    }\n    if (!chartData && chartRef) {\n      getChartData();\n    }\n  }, [chartData, chartRef]);\n  return /*#__PURE__*/_jsxDEV(BarChartView, {\n    data: chartData,\n    options: chartExample3.options,\n    passedRef: function passedRef(newRef) {\n      return setChartRef(newRef);\n    },\n    dataName: props.dataName,\n    totalData: numberOfItems\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_s(BarChart, \"5fHtj9ORArkaH07kh30xHdHk4/E=\");\n_c = BarChart;\nvar _c;\n$RefreshReg$(_c, \"BarChart\");","map":{"version":3,"names":["React","BarChartView","chartExample3","jsxDEV","_jsxDEV","BarChart","props","_s","_React$useState","useState","undefined","_React$useState2","_slicedToArray","chartData","setChartData","_React$useState3","_React$useState4","numberOfItems","setNumberOfItems","_React$useState5","_React$useState6","chartRef","setChartRef","useEffect","getChartData","_getChartData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","canvas","data","ctx","gradientStroke","labels","wrap","_callee$","_context","prev","next","class","localStorage","getItem","sent","success","console","log","createLinearGradient","addColorStop","datasets","label","className","fill","backgroundColor","hoverBackgroundColor","borderColor","borderWidth","borderDash","borderDashOffset","stop","options","passedRef","newRef","dataName","totalData","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/braia/Desktop/dashbordTest/black-dashboard-genezio-main/frontend/src/backedComponents/BarChart/BarChart.js"],"sourcesContent":["import React from \"react\";\nimport { BarChartView } from \"./BarChartView\";\nimport { chartExample3} from \"variables/charts\";\n\nexport function BarChart(props){\n    const [chartData, setChartData] = React.useState(undefined);\n    const [numberOfItems, setNumberOfItems] = React.useState(undefined);\n    const [chartRef, setChartRef] = React.useState(null);\n\n    React.useEffect(() => {\n        async function getChartData() {\n          const canvas = chartRef;\n          const data = await props.class.getChartData(localStorage.getItem(\"apiToken\"));\n          if (!data.success) {\n            console.log(\"error at get chart data\");\n            setChartData(\"Problem\");\n          } else { \n             \n            let ctx = canvas.ctx;\n    \n            let gradientStroke = ctx.createLinearGradient(0, 230, 0, 50);\n\n            gradientStroke.addColorStop(1, \"rgba(72,72,176,0.1)\");\n            gradientStroke.addColorStop(0.4, \"rgba(72,72,176,0.0)\");\n            gradientStroke.addColorStop(0, \"rgba(119,52,169,0)\"); //purple colors\n    \n            var labels = data.labels;\n            var chartData = data.data;\n            setNumberOfItems(data.numberOfItems)\n            setChartData({\n              labels: labels,\n              datasets: [\n                {\n                    label: props.className,\n                    fill: true,\n                    backgroundColor: gradientStroke,\n                    hoverBackgroundColor: gradientStroke,\n                    borderColor: \"#d048b6\",\n                    borderWidth: 2,\n                    borderDash: [],\n                    borderDashOffset: 0.0,\n                    data: chartData,\n                },\n              ],\n            });\n          }\n        }\n        if (!chartData && chartRef) {\n          getChartData();\n        }\n      }, [chartData, chartRef]); \n\n    return(\n        <BarChartView\n            data = {chartData}\n            options = {chartExample3.options}\n            passedRef = {newRef => setChartRef(newRef)}\n            dataName = {props.dataName}\n            totalData = {numberOfItems}\n        />\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}